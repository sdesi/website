---
import "../styles/variables.css";
import "../styles/reset.css";
import "../styles/global.css";
import Logo from "../assets/logo.svg";

interface LayoutProps {
  title?: string;
  hideScrollbar?: boolean;
}

const { title = "Портфолио", hideScrollbar = false } =
  Astro.props as LayoutProps;

// Текущий путь
const path = Astro.url.pathname;


// Определяем активные кнопки
const isPortfolioActive = path === "/" || path.startsWith("/проект/");
const isWhoActive = path.startsWith("/about");
---

<html lang="ru" class={hideScrollbar ? "no-scrollbar" : ""}>
  <head>
    <meta charset="utf-8" />
    <title>{title}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  </head>

  <body>
    <header class="header">

      <!-- Навигация — всегда видна -->
      <nav class="nav">
        <a
          href="/"
          class={`nav-link nav-portfolio ${isPortfolioActive ? "active" : ""}`}
        >
          Портфолио
        </a>

        <!-- <a
          href="/about"
          class={`nav-link nav-who ${isWhoActive ? "active" : ""}`}
        >
          Кто я?
        </a> -->
      </nav>

      <!-- Если НЕ страница проекта → показываем логотип + текст + часы -->
        <>
          <a href="/" class="logo-link">
            <Logo class="logo" />
          </a>

          <div class="header-text">
            <div>
              <p>
                <strong>Ъ „ВыксаЖилСтройСервис“</strong><br />
                Нижегородская обл., <br />
                г. о. г. Выкса, с. Мотмос<br /><br />
                <div>
                  <a class="header-tg-icon" href="https://t.me/sodiezz" target="_blank">ТЕЛЕГРАМ</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  <a class="header-tg-icon" href="https://vk.com/soda_tempostorm" target="_blank">ВКОНТАКТЕ</a>
                </div>
              </p>
            </div>

            <section class="pixel-clock">
              <div class="clock-grid">
                <span class="clock-cell cell-11">11</span>
                <span class="clock-cell cell-12">12</span>
                <span class="clock-cell cell-1">1</span>

                <span class="clock-cell cell-10">10</span>
                <span class="clock-cell cell-2">2</span>

                <span class="clock-cell cell-9">9</span>
                <span class="clock-cell cell-3">3</span>

                <span class="clock-cell cell-8">8</span>
                <span class="clock-cell cell-4">4</span>

                <span class="clock-cell cell-7">7</span>
                <span class="clock-cell cell-6">6</span>
                <span class="clock-cell cell-5">5</span>

                <div class="clock-center">
                  <div class="clock-hand clock-hand-hour"></div>
                  <div class="clock-hand clock-hand-minute"></div>
                  <div class="clock-hand clock-hand-second"></div>
                  <div class="clock-center-dot"></div>
                </div>
              </div>
            </section>

            <script src="/js/pixel-clock.js" defer></script>
          </div>
        </>
    </header>
    <main>
      <slot />
    </main>
  </body>
</html>
